{
	"info": {
		"_postman_id": "73b6362b-94bd-4162-bea4-9aa3eb0663de",
		"name": "kong-demo",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "35006339"
	},
	"item": [
		{
			"name": "crud",
			"item": [
				{
					"name": "create",
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": [
								{
									"key": "value",
									"value": "my-secret-key",
									"type": "string"
								},
								{
									"key": "key",
									"value": "apikey",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 1,\n    \"name\": \"Book\",\n    \"description\": \"Red book\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8000/items",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"items"
							]
						}
					},
					"response": []
				},
				{
					"name": "update",
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": [
								{
									"key": "value",
									"value": "my-secret-key",
									"type": "string"
								},
								{
									"key": "key",
									"value": "apikey",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"description\": \"Blue book\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8000/items/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"items",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get by id",
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": [
								{
									"key": "value",
									"value": "my-secret-key",
									"type": "string"
								},
								{
									"key": "key",
									"value": "apikey",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8000/items/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"items",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "jVwywdmxlAq605cFlvvHSKZngoEYlNQE",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8000/items",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"items"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete",
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": [
								{
									"key": "value",
									"value": "my-secret-key",
									"type": "string"
								},
								{
									"key": "key",
									"value": "apikey",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8000/items/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8000",
							"path": [
								"items",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": ""
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "oauth2",
			"item": [
				{
					"name": "Add OAuth2 Plugin to Service",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"oauth2\",\n    \"config\": {\n        \"scopes\": [\n            \"email\",\n            \"phone\",\n            \"address\"\n        ],\n        \"mandatory_scope\": true,\n        \"provision_key\": \"<autogenerated>\",\n        \"enable_authorization_code\": true,\n        \"global_credentials\": true\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8001/services/:serviceName/plugins",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8001",
							"path": [
								"services",
								":serviceName",
								"plugins"
							],
							"variable": [
								{
									"key": "serviceName",
									"value": "items-service"
								}
							]
						}
					},
					"response": [
						{
							"name": "Add OAuth2 Plugin to Service Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"oauth2\",\n    \"config\": {\n        \"scopes\": [\n            \"email\",\n            \"phone\",\n            \"address\"\n        ],\n        \"mandatory_scope\": true,\n        \"provision_key\": \"<autogenerated>\",\n        \"enable_authorization_code\": true,\n        \"global_credentials\": true\n    }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:8001/services/:serviceName/plugins",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8001",
									"path": [
										"services",
										":serviceName",
										"plugins"
									],
									"variable": [
										{
											"key": "serviceName",
											"value": "items-service"
										}
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Date",
									"value": "Tue, 28 Jan 2025 17:34:01 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "X-Kong-Admin-Request-ID",
									"value": "9f32a274c69075020265dd202cb0f34a"
								},
								{
									"key": "Content-Length",
									"value": "851"
								},
								{
									"key": "X-Kong-Admin-Latency",
									"value": "127"
								},
								{
									"key": "Server",
									"value": "kong/3.9.0.0-enterprise-edition"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"aa086e3b-fd08-4c55-ba55-3096f698afc3\",\n    \"updated_at\": 1738085641,\n    \"enabled\": true,\n    \"protocols\": [\n        \"grpc\",\n        \"grpcs\",\n        \"http\",\n        \"https\",\n        \"ws\",\n        \"wss\"\n    ],\n    \"name\": \"oauth2\",\n    \"config\": {\n        \"enable_implicit_grant\": false,\n        \"enable_authorization_code\": true,\n        \"scopes\": [\n            \"email\",\n            \"phone\",\n            \"address\"\n        ],\n        \"realm\": null,\n        \"refresh_token_ttl\": 1209600,\n        \"accept_http_if_already_terminated\": false,\n        \"auth_header_name\": \"authorization\",\n        \"mandatory_scope\": true,\n        \"reuse_refresh_token\": false,\n        \"anonymous\": null,\n        \"enable_client_credentials\": false,\n        \"pkce\": \"lax\",\n        \"hide_credentials\": false,\n        \"enable_password_grant\": false,\n        \"token_expiration\": 7200,\n        \"global_credentials\": true,\n        \"persistent_refresh_token\": false,\n        \"provision_key\": \"<autogenerated>\"\n    },\n    \"created_at\": 1738085641,\n    \"consumer\": null,\n    \"tags\": null,\n    \"ordering\": null,\n    \"consumer_group\": null,\n    \"route\": null,\n    \"instance_name\": null,\n    \"service\": {\n        \"id\": \"ff9812f7-fdeb-51e7-a093-8e8f04ea9e2d\"\n    }\n}"
						}
					]
				},
				{
					"name": "Create OAuth2 App for Consumer",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"OAuthApp\",\n    \"client_secret\": \"my-secret\",\n    \"redirect_uris\": [\"https://www.google.com\"],\n    \"hash_secret\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8001/consumers/:CONSUMER_ID/oauth2",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8001",
							"path": [
								"consumers",
								":CONSUMER_ID",
								"oauth2"
							],
							"variable": [
								{
									"key": "CONSUMER_ID",
									"value": "items-consumer"
								}
							]
						}
					},
					"response": [
						{
							"name": "Create OAuth2 App for Consumer Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"OAuthApp\",\n    \"client_secret\": \"my-secret\",\n    \"redirect_uris\": [\"https://www.google.com\"],\n    \"hash_secret\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:8001/consumers/:CONSUMER_ID/oauth2",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8001",
									"path": [
										"consumers",
										":CONSUMER_ID",
										"oauth2"
									],
									"variable": [
										{
											"key": "CONSUMER_ID",
											"value": "items-consumer"
										}
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Date",
									"value": "Tue, 28 Jan 2025 17:34:48 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "X-Kong-Admin-Request-ID",
									"value": "05d63267c6a56b65a6bff83273b15845"
								},
								{
									"key": "Content-Length",
									"value": "407"
								},
								{
									"key": "X-Kong-Admin-Latency",
									"value": "26"
								},
								{
									"key": "Server",
									"value": "kong/3.9.0.0-enterprise-edition"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"e3022d6b-575a-48c4-bfe4-1221417ccb63\",\n    \"client_secret\": \"$pbkdf2-sha512$i=10000,l=32$MiNcqR6Xk0X6P6qVUFtZRw$SGle/nbuYqJerZfBjoSR6QNV8LCaO1Va+2KwUKCOfTE\",\n    \"name\": \"OAuthApp\",\n    \"client_type\": \"confidential\",\n    \"tags\": null,\n    \"redirect_uris\": [\n        \"https://www.google.com\"\n    ],\n    \"created_at\": 1738085688,\n    \"hash_secret\": true,\n    \"client_id\": \"R3uuHpgiX4Ns10cIgbVC6moFqs1RA9PV\",\n    \"consumer\": {\n        \"id\": \"1210aadf-8a3c-51c1-a4e2-76384f87015d\"\n    }\n}"
						}
					]
				},
				{
					"name": "Migrate Access Token",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"credential\": {\n        \"id\": \"e3022d6b-575a-48c4-bfe4-1221417ccb63\" // created auth app id\n    },\n    \"expires_in\": 10\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8001/oauth2_tokens",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8001",
							"path": [
								"oauth2_tokens"
							]
						}
					},
					"response": [
						{
							"name": "Migrate Access Token Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"credential\": {\n        \"id\": \"e3022d6b-575a-48c4-bfe4-1221417ccb63\"\n    },\n    \"expires_in\": 3600\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:8001/oauth2_tokens",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8001",
									"path": [
										"oauth2_tokens"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Date",
									"value": "Tue, 28 Jan 2025 17:35:10 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "X-Kong-Admin-Request-ID",
									"value": "dbccec449d5b343bc310005ae2dc5553"
								},
								{
									"key": "Content-Length",
									"value": "306"
								},
								{
									"key": "X-Kong-Admin-Latency",
									"value": "12"
								},
								{
									"key": "Server",
									"value": "kong/3.9.0.0-enterprise-edition"
								}
							],
							"cookie": [],
							"body": "{\n    \"id\": \"1858067d-d479-4d96-ae44-3cbbd41c9dd4\",\n    \"access_token\": \"8jruJo8NnmmUCuGvQRvHFnWz6RDU1eAt\",\n    \"refresh_token\": null,\n    \"scope\": null,\n    \"created_at\": 1738085710,\n    \"credential\": {\n        \"id\": \"e3022d6b-575a-48c4-bfe4-1221417ccb63\"\n    },\n    \"authenticated_userid\": null,\n    \"expires_in\": 3600,\n    \"service\": null,\n    \"ttl\": null,\n    \"token_type\": \"bearer\"\n}"
						}
					]
				},
				{
					"name": "View All Tokens",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8001/oauth2_tokens",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8001",
							"path": [
								"oauth2_tokens"
							]
						}
					},
					"response": [
						{
							"name": "View All Tokens Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:8001/oauth2_tokens",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "8001",
									"path": [
										"oauth2_tokens"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Date",
									"value": "Tue, 28 Jan 2025 17:08:35 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "X-Kong-Admin-Request-ID",
									"value": "7c829d3e097b7a52fd160c00bdf6ac10"
								},
								{
									"key": "Content-Length",
									"value": "329"
								},
								{
									"key": "X-Kong-Admin-Latency",
									"value": "10"
								},
								{
									"key": "Server",
									"value": "kong/3.9.0.0-enterprise-edition"
								}
							],
							"cookie": [],
							"body": "{\n    \"data\": [\n        {\n            \"token_type\": \"bearer\",\n            \"scope\": null,\n            \"service\": null,\n            \"id\": \"72654adf-7c0a-445a-8310-31a9359c3b5b\",\n            \"ttl\": null,\n            \"expires_in\": 3600,\n            \"authenticated_userid\": null,\n            \"created_at\": 1738083930,\n            \"credential\": {\n                \"id\": \"056820ea-0fb9-4310-9202-26fe75782877\"\n            },\n            \"access_token\": \"oy3CBNkSqOq1NMANJMLOE3OpVvHYibHg\",\n            \"refresh_token\": null\n        }\n    ],\n    \"next\": null\n}"
						}
					]
				}
			]
		}
	]
}